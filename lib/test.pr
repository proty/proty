#export(TestCase)
#export(run)

TestCase = Object.new()

TestCase.assert = do(x)
    if x
        self.successCount += 1
    else
        self.failureCount += 1
    end
    x
end

TestCase.assertEqual = do(x, y)
    self.assert(x == y)
end

TestCase.assertTrue = do(x)
    self.assert(x)
end

TestCase.assertFalse = do(x)
    self.assert(!x)
end

TestCase.printResults = do
    io:write(self.name)
    io:write(";" + self.successCount.str())
    io:print(";" + self.failureCount.str())
end

TestCase.create = do(name)
    tc = TestCase.new()
    tc.name = name
    tc.successCount = 0
    tc.failureCount = 0
    tc
end

run = do(name, func)
    t = TestCase.create(name)
    func(t)
    t.printResults()
end